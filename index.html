<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taskly</title>
    <link rel="apple-touch-icon" href="imgs/apple-touch-icon.png">
    <link rel="shortcut icon" href="imgs/Taskly-logo.svg" sizes="any" type="image/svg+xml">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/splash-screen.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Splash screen -->
    <div class="splash-screen">
        <div class="splash-content">
            <div class="logo-bg">
                <img class="splash-logo" src="imgs/Taskly-logo.svg"/>
            </div>
            <img class="splash-text" src="imgs/Taskly-writing-dark.svg"/>
        </div>
        <div class="curtain curtain-left"></div>
        <div class="curtain curtain-right"></div>
    </div>

    <button id="installBtn" class="install-btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 3v12m0 0l-4-4m4 4l4-4" />
            <path d="M5 21h14a2 2 0 0 0 2-2v-4H3v4a2 2 0 0 0 2 2z" />
        </svg>
        <p>Install App</p>
    </button>

    <main class="container">
        <div class="popup-status">
            <div class="added hidden">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M5 13l4 4L19 7" />
                </svg> Added
            </div>
            <div class="deleted hidden">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M18 6L6 18M6 6l12 12" />
                </svg> <span>Deleted</span>
            </div>
            <div class="done hidden">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M5 13l4 4L19 7" />
                </svg> Done
            </div>
            
            <div class="notifications-popup hidden">
                <button class='close-notification'>
                    <svg class="close-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
                <p>You've blocked notifications for this site. Go to site settings > Notifications > Allow</p>
            </div>

            <!-- What's up -->
            <div id="update-popup" class="update-popup hidden">
                <div class="update-popup-content">
                    <div class="update-icon">
                        <svg xmlns="http://www.w3org/200/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v614 2"/>
                        </svg>            
                    </div>
                    <div class="update-text">
                        <h3>Update Available! </h3>
                        <p>A new version of Taskly is ready to install.</p>
                    </div>
                    <div class="update-buttons">
                        <button class="update-btn-now">Update now! </button>
                        <button class="update-btn-later">No, Later</button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="container-head">
            <p class="header">
                <img src="imgs/Taskly-logo.svg"/>
                <img src="imgs/Taskly-writing-dark.svg"/>
            </p>
            
            <div class="header-controls">
                <div class="theme-toggle-btn" id="light">
                    <div class="star light">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <circle cx="12" cy="12" r="5"/>
    
                            <rect x="11" y="1" width="2" height="3"/>
                            <rect x="11" y="20" width="2" height="3"/>
                            
                            <rect x="1" y="11" width="3" height="2"/>
                            <rect x="20" y="11" width="3" height="2"/>
    
                            <g transform="rotate(45 12 12)">
                                <rect x="11" y="1" width="2" height="3"/>
                                <rect x="11" y="20" width="2" height="3"/>
                            </g>
                            <g transform="rotate(90 12 12)">
                                <rect x="11" y="1" width="2" height="3"/>
                                <rect x="11" y="20" width="2" height="3"/>
                            </g>
                            <g transform="rotate(-45 12 12)">
                                <rect x="11" y="1" width="2" height="3"/>
                                <rect x="11" y="20" width="2" height="3"/>
                            </g>
                        </svg>
                    </div>
    
                    <div class="star moon hidden" id="dark">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                    </div>
                </div>
                
                <div class="sort" id="sort">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"/>
                    </svg>
                </div>

                <div class="reset" id="reset">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                    </svg>
                </div>
            </div>
        </div>
        
        <div class="container-body">
            <button class="tab-btn completed-tasks-btn" id="completedTasks">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
            </button>
            <button class="tab-btn pending-tasks-btn" id="pendingTasks">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="13" r="9"/>
                    <path d="M12 9v4l2 2"/>
                    <path d="M5 3L2 6"/>
                    <path d="M22 6l-3-3"/>
                    <path d="M6.38 18.78a6.38 6.38 0 0 0 11.24 0"/>
                </svg>
            </button>
            
            <div class="containers">
                <div class="list-container" id="listContainer">
                    <ul class="list-items" id="listItems"></ul>
                </div>
                <div class="edit-or-update-task" id="addOrEditTask"></div>
            </div>
            
            <div class="completed-tasks-container">
                <div class="completed-tasks"></div>
            </div>
            
            <button class="add-new-task" id="addNewTask" type="submit">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 4V20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <path d="M4 12H20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Add Task
            </button>
        </div>
    </main>
    
    <!-- Default dialog box for forms -->
    <dialog class="dialog-box" id="defaultDialog">
        <div class="dialog-box-contents">
            <span>Are you sure you want to discard?</span>
            <button id="no" type="button">No</button>
            <button id="yes">Yes</button>
        </div>
    </dialog>

    <!-- Reset options dialog box -->
    <dialog class="dialog-box" id="resetOptionsDialog">
        <div class="dialog-box-contents">
            <span>Which do you want to Reset?</span>

            <div class="resetBtns">
                <button class="reset-option" data-type="completedTasksReset">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg> Completed Tasks</button>
                <button class="reset-option" data-type="pendingTasksReset">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="13" r="9"/>
                        <path d="M12 9v4l2 2"/>
                        <path d="M5 3L2 6"/>
                        <path d="M22 6l-3-3"/>
                        <path d="M6.38 18.78a6.38 6.38 0 0 0 11.24 0"/>
                    </svg> Pending Tasks</button>
                <button class="reset-option" data-type="bothTasksReset">Both</button>
            </div>
        </div>
    </dialog>

    <!-- Sort dropdown -->
    <div class="sort-dropdown hidden">
        <p class="dropdown-title">Sort By</p>
        <div class="sort-options">
            <label class="sort-option">
                <input type="radio" name="sort" value="date-oldest">
                <span>Date (oldest first)</span>
            </label>

            <label class="sort-option">
                <input type="radio" name="sort" value="date-newest" checked>
                <span>Date (newest first)</span>
            </label>

            <label class="sort-option">
                <input type="radio" name="sort" value="name-asc">
                <span>Name (A-Z)</span>
            </label>

            <label class="sort-option">
                <input type="radio" name="sort" value="name-desc">
                <span>Name (Z-A)</span>
            </label>
        </div>
    </div>

    <script>
        const splashScreen = document.querySelector('.splash-screen');
        const isStandalone = 
            window.matchMedia('(display-mode: standalone)').matches || 
            window.navigator.standalone === true ||
            document.referrer.includes('android-app://');
        
        if (isStandalone && splashScreen) {
            splashScreen.style.visibility = 'visible';
        }
    </script>
    <script src="scripts/utils/dayjs.min.js"></script>
    <script type="module" src="scripts/scripts.js" defer></script>
</body>
</html>